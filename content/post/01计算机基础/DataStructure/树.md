---
title: "树"
date: 2021-07-21
description: 树
draft: true
tags:
    - 数据结构
    - 树
categories:
    - 数据结构
---



###  满二叉树

一个二叉树，如果每一个层的结点数都达到最大值，则这个二叉树就是 **满二叉树**

### 完全二叉树

除最后一层外，若其余层都是满的，并且最后一层或者是满的，或者是在右边缺少连续若干节点，则这个二叉树就是 **完全二叉树** 。

> 数组存储时：任一位置i的元素，他左儿子在2i位置，右儿子在2i+1位置



### 二叉查找树

1.**左**子树上所有结点的值均**小于或等于**它的根结点的值。

2.**右**子树上所有结点的值均**大于或等于**它的根结点的值。

3.左、右子树也分别为二叉排序树。



### 平衡二叉树

 左右两个子树的高度差的绝对值不超过 1，并且左右两个子树都是一棵平衡二叉树。

> 二叉树相比于链表，由于父子节点以及兄弟节点之间往往具有某种特殊的关系，这种关系使得我们在树中对数据进行**搜索**和**修改**时，相对于链表更加快捷便利



### 红黑树

0，是二叉查找树也是平衡二叉树

1.节点是红色或黑色。

2.根节点是黑色。

3.每个叶子节点都是黑色的空节点（NIL节点）。

4 每个红色节点的两个子节点都是黑色。(从每个叶子到根的所有路径上不能有两个连续的红色节点)

5.从任一节点到其每个叶子的所有路径都包含相同数目的黑色节点。

![image-20210905222110998](https://fengzhenbing.github.io/img/picgo/image-20210905222110998.png)插入或删除元素时，通过变色和左旋转，有旋转达到**自平衡 ** 



Java中TreeSet TreeMap, java8中hashMap链表也会变成红黑树



### B树

B树和平衡二叉树稍有不同的是B树属于多叉树又名平衡多路查找树（ 子节点不止两个，多叉，所有的叶子节点拥有相同的高度），数据库索引技术里大量使用者B树和B+树的数据结构

#### 规则定义

 1）排序方式：所有节点关键字是按递增次序排列，并遵循左小右大原则；

 2）子节点数：非叶节点的子节点数>1，且<=M ，且M>=2，空树除外（注：M阶代表一个树节点最多有多少个查找路径，M=M路,当M=2则是2叉树,M=3则是3叉）；

 3）关键字数：枝节点的关键字数量大于等于ceil(m/2)-1个且小于等于M-1个（注：ceil()是个朝正无穷方向取整的函数 如ceil(1.1)结果为2);

 4）所有叶子节点均在同一层、叶子节点除了包含了关键字和关键字记录的指针外也有指向其子节点的指针只不过其指针地址都为null对应下图最后一层节点的空格子;

![image-20210905224853614](https://fengzhenbing.github.io/img/picgo/image-20210905224853614.png)

### B+树

B+树是B树的一个升级版：但是非叶子节点不存储数据（关键字）指针，只存储索引。 数据（关键字）指针只存在叶子节点上，

> 中间非叶子节点相对b树，能存储更多的索引，从而降低树的高度（innodb引擎使用，从而减少了磁盘io数）

#### 规则定义
 1）B+跟B树不同B+树的**非叶子**节点不保存关键字记录的指针，只进行数据索引，这样使得B+树每个**非叶子**节点所能保存的关键字大大增加；

 2）B+树**叶子**节点保存了父节点的所有关键字记录的指针，所有数据地址必须要到叶子节点才能获取到。所以每次数据查询的次数都一样；

 3）B+树叶子节点的关键字从小到大有序排列，左边结尾数据都会保存右边节点开始数据的指针。

 4）非叶子节点的子节点数=关键字数 

![image-20210905225632594](https://fengzhenbing.github.io/img/picgo/image-20210905225632594.png)

#### 特点

1、B+**树的层级更少**：相较于B树B+每个**非叶子**节点存储的关键字数更多，树的层级更少所以查询数据更快；

2、B+**树查询速度更稳定**：B+所有关键字数据地址都存在**叶子**节点上，所以每次查找的次数都相同所以查询速度要比B树更稳定;

3、B+**树天然具备排序功能：**B+树所有的**叶子**节点数据构成了一个有序链表，在查询大小区间的数据时候更方便，数据紧密性很高，缓存的命中率也会比B树高。

4、B+**树全节点遍历更快：**B+树遍历整棵树只需要遍历所有的**叶子**节点即可，，而不需要像B树一样需要对每一层进行遍历，这有利于数据库做全表扫描。

**B树**相对于**B+树**的优点是，如果经常访问的数据离根节点很近，而**B树**的**非叶子**节点本身存有关键字其数据的地址，所以这种数据检索的时候会要比**B+树**快。





### 树的存储

#### 链式存储

靠指针（java对象引用）指向左右子节点。

#### 顺序存储

即用数组存储：空节点用空的元素占用一个数组位置。

> 如果我们要存储的二叉树不是完全二叉树，在数组中就会出现空隙（太多空元素），导致内存利用率降低





参考 https://zhuanlan.zhihu.com/p/27700617
